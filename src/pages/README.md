# 客服助手功能說明

## 概述

客服助手是一個多平台客服管理系統，支援建立和管理多個客服平台，配置AI助手，管理對話會話，並提供完整的客服工作流程。

## 主要功能

### 1. 平台管理
- **建立平台**: 可以建立不同類型的客服平台（客服支援、技術支援、銷售諮詢等）
- **平台設定**: 配置平台名稱、描述、類型和功能開關
- **平台統計**: 查看每個平台的對話會話數和訊息總數
- **資料匯出**: 支援匯出平台資料進行分析

### 2. 對話管理
- **會話列表**: 查看所有對話會話，支援按平台篩選
- **狀態管理**: 會話狀態包括進行中、等待中、已解決、已升級
- **優先級設定**: 支援緊急、高、中、低四個優先級
- **AI處理**: 顯示AI是否正在處理對話

### 3. 訊息系統
- **即時對話**: 支援文字、圖片、檔案等多種訊息類型
- **訊息歷史**: 完整的對話記錄和訊息時間戳
- **發送者類型**: 區分客戶、客服專員和AI助手

### 4. 系統設定
- **AI自動回覆**: 啟用/停用AI自動處理客戶諮詢
- **訊息通知**: 配置新訊息和重要通知
- **資料備份**: 自動備份對話和設定資料

## API 整合

### 認證方式
所有API呼叫都需要提供 `member_card_id`，透過請求標頭 `x-member-card-id` 傳遞。

### 主要API端點
- `GET /api/platforms/my_platforms/` - 獲取我的平台列表
- `GET /api/platforms/{platform_id}/stats/` - 獲取平台統計資訊
- `POST /api/chat/start_session/` - 開始新對話
- `POST /api/chat/send_message/` - 發送訊息
- `GET /api/chat/get_messages/{session_id}/` - 獲取對話訊息

## 使用流程

### 1. 建立平台
1. 點擊「建立新平台」按鈕
2. 填寫平台名稱、描述和類型
3. 選擇功能開關（AI自動回覆、訊息通知）
4. 點擊「建立平台」完成

### 2. 管理對話
1. 在「對話會話」標籤頁查看所有會話
2. 點擊會話進入對話介面
3. 發送訊息或讓AI自動處理
4. 根據需要升級或分配會話

### 3. 平台設定
1. 在「系統設定」標籤頁配置全域選項
2. 調整AI助手和通知設定
3. 配置資料備份策略

## 技術特性

### 前端技術
- React 18 + TypeScript
- Tailwind CSS 樣式系統
- Lucide React 圖示庫
- 響應式設計，支援行動端

### 狀態管理
- React Hooks 狀態管理
- 非同步API呼叫處理
- 錯誤處理和使用者回饋

### 使用者體驗
- 現代化UI設計
- 流暢的動畫效果
- 直觀的操作流程
- 即時狀態更新

## 注意事項

1. **認證要求**: 確保使用者已登入且具有有效的 `member_card_id`
2. **網路連線**: 所有功能都需要網路連線才能正常工作
3. **瀏覽器相容**: 建議使用現代瀏覽器（Chrome、Firefox、Safari、Edge）
4. **權限管理**: 不同角色使用者具有不同的操作權限

## 故障排除

### 常見問題
1. **無法獲取平台列表**: 檢查使用者認證狀態和網路連線
2. **訊息發送失敗**: 確認會話ID有效且使用者有發送權限
3. **匯出資料失敗**: 檢查平台ID和使用者權限

### 除錯方法
1. **查看瀏覽器控制台的錯誤資訊**: 確認 `x-member-card-id` 是否正確
2. **檢查網路面板**: 確認 OPTIONS 預檢請求是否成功
3. **檢查伺服器日誌**: 確認後端是否正確處理請求
4. **檢查請求體**: 確認資料格式是否正確

## 更新日誌

### v1.0.0 (2025-01-27)
- 初始版本發布
- 支援基本的平台管理和對話功能
- 整合ChatPlatform API
- 完整的使用者介面和互動體驗
- 繁體中文介面支援 